{% extends "fbfp_base.html" %}
{% block titleprefix %}New{% endblock %}
{% block extra_head %}
{% endblock %}
{% block main %}
<main>
	<form id="form-new" method="POST" enctype="multipart/form-data">
		<div class="formgroup">
			{#
			<label for="title"><strong>Title</strong></label>
			<br/>
			#}
		</div>

		<table class="fat wide capline">
			<caption style="display: none;">
				Submit
			</caption>
			<tr>
				<th colspan="2">
					Submit a work for peer feedback
				</th>
			</tr>
			<tr>
				<th scope="row">Title</th>
				<td class="tdinput">
					<input id="title" name="title" placeholder="Title" type="text" />
				</td>
			</tr>
			<tr>
				<th scope="row">Flags</th>
				<td>
					<input id="flag-public" type="checkbox" name="public" checked /><label for="flag-public">Public</label>
					<input id="flag-active" type="checkbox" name="active" checked /><label for="flag-active">Active</label>
					<input id="flag-anonymous" type="checkbox" name="anonymous" /><label for="flag-anonymous">Anonymous</label>
				</td>
			</tr>
			<tr>
				<th scope="row"><label for="text">Either</label></th>
				<td class="tdinput">
					<textarea style="min-height: 15ex;" id="text" name="text" placeholder="Paste your work here"></textarea><br/>
				</td>
			</tr>
			<tr>
				<th scope="row"><label for="fileupload">Or</label></th>
				<td class="flex-justify">
					<div class="left">
						<input title="" value="" type="file" id="fileupload" name="file" />
					</div>
					<div class="right">
						<span class="greyedout">Max {{ fbfpc["max_file_size_human"] }}</span>
					</div>
				</td>
			</tr>
			<tr>
				<td class="th-like" colspan=2>
					<div class="flex-justify">
						<div class="left">
							<input type="submit" value="Submit" />
						</div>
						<div class="right">
							<span class="greyedout">Max {{ fbfpc["max_request_size_human"] }}</span>
						</div>
					</div>
				</td>
			</tr>
		</table>
	</form>
</main>
{% endblock %}
{% block final_script %}
<script>
	/* SPDX-License-Identifier: CC0-1.0 */
	const max_file_size = {{ fbfpc["max_file_size"] }};
</script>
<script defer src="{{ url_for(".static", filename="file-upload-size-check.js") }}"></script>
{% endblock %}
